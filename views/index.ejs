<!DOCTYPE html>
<html>
<head>
    <title>Employee Payroll Dashboard</title>
    <link rel="stylesheet" href="/style.css">

</head>
<body>

    <h1>Employee Payroll Dashboard</h1>

    <div style="text-align:center; margin-bottom:20px;">
        <a href="/add">
            <button>Add New Employee</button>
        </a>
    </div>

    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Department</th>
                <th>Basic Salary (₹)</th>
                <th>Tax (12%) (₹)</th>
                <th>Net Salary (₹)</th>
                <th>Actions</th>
            </tr>
        </thead>

        <tbody>

            <% if (!employees || employees.length === 0) { %>
                <tr>
                    <td colspan="6">No Employees Found</td>
                </tr>
            <% } %>

            <% employees.forEach(employee => { %>

                <% 
                    const tax = employee.salary * 0.12;
                    const netSalary = employee.salary - tax;
                %>

                <tr>
                    <td><%= employee.name %></td>
                    <td><%= employee.department %></td>
                    <td><%= employee.salary.toFixed(2) %></td>
                    <td><%= tax.toFixed(2) %></td>
                    <td><%= netSalary.toFixed(2) %></td>

                    <td>
                        <a href="/edit/<%= employee.id %>">Edit</a> |
                        <a href="/delete/<%= employee.id %>" 
                           onclick="return confirm('Are you sure you want to delete?')">
                           Delete
                        </a>
                    </td>
                </tr>

            <% }) %>

        </tbody>
    </table>

</body>
</html>
